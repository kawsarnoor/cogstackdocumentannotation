{"remainingRequest":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/babel-loader/lib/index.js!/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/store/auth.js","dependencies":[{"path":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/store/auth.js","mtime":1606285645844},{"path":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CgovKmVzbGludC1kaXNhYmxlKi8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9zcmMvcm91dGVyJzsKdmFyIHN0YXRlID0gewogIC8vIHNpbmdsZSBzb3VyY2Ugb2YgZGF0YQogIHVzZXI6IHt9LAogIGp3dDogJycKfTsKdmFyIGFjdGlvbnMgPSB7CiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIGxvZ2luRGV0YWlscykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgdmFyIHVzZXJuYW1lID0gbG9naW5EZXRhaWxzWyd1c2VybmFtZSddOwogICAgdmFyIHBhc3N3b3JkID0gbG9naW5EZXRhaWxzWydwYXNzd29yZCddOwogICAgdmFyIHBhdGggPSAnaHR0cDovLzEyNy4wLjAuMTo1MDAxLycgKyAnbG9naW4nOwogICAgYXhpb3MucG9zdChwYXRoLCB7CiAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lLAogICAgICAncGFzc3dvcmQnOiBwYXNzd29yZAogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGNvbW1pdCgnYXV0aFVzZXInLCB7CiAgICAgICAgdXNlcjogdXNlcm5hbWUsCiAgICAgICAgand0OiByZXMuZGF0YS50b2tlbgogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc2Z1bGx5IGxvZ2dlZCBpbi4uLicpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnand0JywgcmVzLmRhdGEudG9rZW4pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIHVzZXJuYW1lKTsKICAgICAgcm91dGVyLnB1c2goJy9ob21lJyk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICB9KTsKICB9LAogIHJlZnJlc2h0b2tlbjogZnVuY3Rpb24gcmVmcmVzaHRva2VuKF9yZWYyKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpOwogICAgdmFyIHBhdGggPSAnaHR0cDovLzEyNy4wLjAuMTo1MDAxLycgKyAncmVmcmVzaHRva2VuJzsKICAgIGF4aW9zLnBvc3QocGF0aCwgewogICAgICAndXNlcic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykKICAgIH0sIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdBdXRob3JpemF0aW9uJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb21taXQoJ2F1dGhVc2VyJywgewogICAgICAgIHVzZXI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyksCiAgICAgICAgand0OiByZXMuZGF0YS50b2tlbgogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc2Z1bGx5IHJlZnJlc2hlZCB0b2tlbi4uLicpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnand0JywgcmVzLmRhdGEudG9rZW4pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7Ly8gICAgcm91dGVyLnB1c2goJy9sb2dpbicpOyAKICAgIH0pOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICBjb21taXQoJ2NsZWFyQXV0aERhdGEnKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnand0Jyk7CiAgICByb3V0ZXIucmVwbGFjZSgnbG9naW4nKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgYXV0aFVzZXI6IGZ1bmN0aW9uIGF1dGhVc2VyKHN0YXRlLCB1c2VyRGF0YSkgewogICAgc3RhdGUudXNlciA9IHVzZXJEYXRhLnVzZXJuYW1lOwogICAgc3RhdGUuand0ID0gdXNlckRhdGEudG9rZW47CiAgfSwKICBjbGVhckF1dGhEYXRhOiBmdW5jdGlvbiBjbGVhckF1dGhEYXRhKHN0YXRlKSB7CiAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIHN0YXRlLmp3dCA9IG51bGw7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICAvLyByZXVzYWJsZSBkYXRhIGFjY2Vzc29ycwogIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSAvLyAgIHJldHVybiBpc1ZhbGlkSnd0KHN0YXRlLmp3dC50b2tlbikKCiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/store/auth.js"],"names":["axios","router","state","user","jwt","actions","login","loginDetails","commit","username","password","path","post","then","res","data","token","console","log","localStorage","setItem","push","catch","error","refreshtoken","getItem","headers","logout","removeItem","replace","mutations","authUser","userData","clearAuthData","getters","isAuthenticated","namespaced"],"mappings":"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","sourcesContent":["/*eslint-disable*/\n\nimport axios from 'axios';\nimport router from '../src/router'\n\nconst state = {\n    // single source of data\n    user: {},\n    jwt: ''\n};\n\nconst actions = {\n    login: ({commit}, loginDetails) => {\n        var username = loginDetails['username']\n        var password = loginDetails['password'] \n        \n        const path = 'http://127.0.0.1:5001/' + 'login';\n\n        axios.post(path, {'username':username, 'password':password})\n            .then(res => {\n\t\t\t  commit('authUser', { user: username, jwt: res.data.token });\t\n              console.log('succesfully logged in...');\n\n\t\t\t  localStorage.setItem('jwt', res.data.token);\n\t\t\t  localStorage.setItem('user', username);\n              router.push('/home'); \n            })\n               .catch((error) => {\n                  console.error(error);\n            });  \n\t},\n\t\n\trefreshtoken: ({commit}) => {\n\t\tlet token = localStorage.getItem('jwt');\n\t\tconst path = 'http://127.0.0.1:5001/' + 'refreshtoken';\n\t\t\n        axios.post(path, {'user': localStorage.getItem('user')}, {headers: {'Authorization': localStorage.getItem('jwt')}})\n            .then(res => {\n\t\t\t  commit('authUser', { user: localStorage.getItem('user'), jwt: res.data.token });\t\n              console.log('succesfully refreshed token...');\n\n\t\t\t  localStorage.setItem('jwt', res.data.token);\n\t\t\t  localStorage.setItem('user', localStorage.getItem('user'));\n            })\n            .catch((error) => {\n\t\t\t//    router.push('/login'); \n            });\n\t},\n\n\tlogout: ({commit}) => {\n\t\tcommit('clearAuthData');\n\t\tlocalStorage.removeItem('user');\n\t\tlocalStorage.removeItem('jwt');\n\t\trouter.replace('login');\n\t},\n};\n\nconst mutations = {\n\tauthUser(state, userData) {\n\t\tstate.user = userData.username;\n\t\tstate.jwt = userData.token;\n\t},\n\tclearAuthData(state) {\n\t\tstate.user = null;\n\t\tstate.jwt = null;\n\t},\n};\n\nconst getters = {\n    // reusable data accessors\n    isAuthenticated (state) {\n\t  if (localStorage.getItem('jwt')){\n          return true;\n\t  } else {\n\t\t  return false;\n\t  }\n    //   return isValidJwt(state.jwt.token)\n    }\n};\n\nexport default {\n\tnamespaced: true,\n\tstate,\n\tmutations,\n\tgetters,\n\tactions,\n}\n\n"]}]}
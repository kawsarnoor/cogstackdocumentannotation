{"remainingRequest":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/babel-loader/lib/index.js!/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/src/router.js","dependencies":[{"path":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/src/router.js","mtime":1612859726633},{"path":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CgovKiBlc2xpbnQtZGlzYWJsZSAqLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBMb2dpbiBmcm9tICcuL3ZpZXdzL0xvZ2luLnZ1ZSc7CmltcG9ydCBBbm5vdGF0aW9uIGZyb20gJy4vdmlld3MvQW5ub3RhdGlvbi52dWUnOwppbXBvcnQgUHJvamVjdHMgZnJvbSAnLi92aWV3cy9Qcm9qZWN0cy52dWUnOwpWdWUudXNlKFJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiBbewogICAgcGF0aDogJy9sb2dpbicsCiAgICBhbGlhczogJy8nLAogICAgbmFtZTogJ0xvZ2luJywKICAgIGNvbXBvbmVudDogTG9naW4sCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVzQXV0aDogZmFsc2UsCiAgICAgIGZvcmNlUmVmcmVzaDogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvcHJvamVjdHMnLAogICAgbmFtZTogJ1Byb2plY3RzJywKICAgIGNvbXBvbmVudDogUHJvamVjdHMsCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSwKICAgICAgZm9yY2VSZWZyZXNoOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogJy9hbm5vdGF0aW9uLzpwcm9qZWN0aWQnLAogICAgbmFtZTogJ0Fubm90YXRpb24nLAogICAgY29tcG9uZW50OiBBbm5vdGF0aW9uLAogICAgbWV0YTogewogICAgICByZXF1aXJlc0F1dGg6IHRydWUsCiAgICAgIGZvcmNlUmVmcmVzaDogZmFsc2UKICAgIH0KICB9XQp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgY29uc29sZS5sb2coJ2NoZWNraW5nIHJvdXRlJyk7CgogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJvdXRlKSB7CiAgICByZXR1cm4gcm91dGUubWV0YS5mb3JjZVJlZnJlc2g7CiAgfSkpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb3JjZVJlZnJlc2gnLCAncmVmcmVzaCcpOwogIH0KCiAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocm91dGUpIHsKICAgIHJldHVybiByb3V0ZS5tZXRhLnJlcXVpcmVzQXV0aDsKICB9KSkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSA9PSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSA9PSAndW5kZWZpbmVkJyB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JykgPT0gJycpIHsKICAgICAgbmV4dCh7CiAgICAgICAgbmFtZTogJ0xvZ2luJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIG5leHRVcmw6IHRvLmZ1bGxQYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9IGVsc2UgewogICAgY29uc29sZS5sb2coJ3JlamVjdGVkIGdvaW5nIHRvIGxvZ2luJyk7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/Users/kawsarnoor/Desktop/cogstack/annotationtool/client/src/router.js"],"names":["Vue","Router","Login","Annotation","Projects","use","router","mode","base","process","env","BASE_URL","routes","path","alias","name","component","meta","requiresAuth","forceRefresh","beforeEach","to","from","next","console","log","matched","some","route","localStorage","setItem","getItem","params","nextUrl","fullPath"],"mappings":";;AAAA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,MAAR;AAEA,IAAIK,MAAM,GAAG,IAAIL,MAAJ,CAAW;AACpBM,EAAAA,IAAI,EAAE,SADc;AAEpBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFE;AAGpBC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,KAAK,EAAE,GAFT;AAGEC,IAAAA,IAAI,EAAE,OAHR;AAIEC,IAAAA,SAAS,EAAEd,KAJb;AAKEe,IAAAA,IAAI,EAAE;AACFC,MAAAA,YAAY,EAAE,KADZ;AAEFC,MAAAA,YAAY,EAAE;AAFZ;AALR,GADM,EAWN;AACEN,IAAAA,IAAI,EAAE,WADR;AAEEE,IAAAA,IAAI,EAAE,UAFR;AAGEC,IAAAA,SAAS,EAAEZ,QAHb;AAIEa,IAAAA,IAAI,EAAE;AACFC,MAAAA,YAAY,EAAE,IADZ;AAEFC,MAAAA,YAAY,EAAE;AAFZ;AAJR,GAXM,EAoBN;AACEN,IAAAA,IAAI,EAAE,wBADR;AAEEE,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAEb,UAHb;AAIEc,IAAAA,IAAI,EAAE;AACFC,MAAAA,YAAY,EAAE,IADZ;AAEFC,MAAAA,YAAY,EAAE;AAFZ;AAJR,GApBM;AAHY,CAAX,CAAb;AAmCEb,MAAM,CAACc,UAAP,CAAkB,UAACC,EAAD,EAAMC,IAAN,EAAYC,IAAZ,EAAqB;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;;AACA,MAAIJ,EAAE,CAACK,OAAH,CAAWC,IAAX,CAAgB,UAAAC,KAAK;AAAA,WAAIA,KAAK,CAACX,IAAN,CAAWE,YAAf;AAAA,GAArB,CAAJ,EAAuD;AACnDU,IAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqC,SAArC;AACH;;AAED,MAAIT,EAAE,CAACK,OAAH,CAAWC,IAAX,CAAgB,UAAAC,KAAK;AAAA,WAAIA,KAAK,CAACX,IAAN,CAAWC,YAAf;AAAA,GAArB,CAAJ,EAAuD;AACnD,QAAIW,YAAY,CAACE,OAAb,CAAqB,KAArB,KAA+B,IAA/B,IAAuCF,YAAY,CAACE,OAAb,CAAqB,KAArB,KAA+B,WAAtE,IAAqFF,YAAY,CAACE,OAAb,CAAqB,KAArB,KAA+B,EAAxH,EAA2H;AACvHR,MAAAA,IAAI,CAAC;AACDR,QAAAA,IAAI,EAAC,OADJ;AAEfiB,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAEZ,EAAE,CAACa;AAAd;AAFO,OAAD,CAAJ;AAIV,KALM,MAKD;AACKX,MAAAA,IAAI;AACd;AACG,GATD,MASM;AACFC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACPF,IAAAA,IAAI;AACA;AACJ,CAnBC;AAqBF,eAAejB,MAAf","sourcesContent":["/* eslint-disable */ \nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Login from './views/Login.vue';\nimport Annotation from './views/Annotation.vue';\nimport Projects from './views/Projects.vue'\n\nVue.use(Router);\n\nlet router = new Router({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes: [\n      {\n        path: '/login',\n        alias: '/',\n        name: 'Login',\n        component: Login,\n        meta: {\n            requiresAuth: false,\n            forceRefresh: true\n        }\n      },\n      {\n        path: '/projects',\n        name: 'Projects',\n        component: Projects,\n        meta: {\n            requiresAuth: true,\n            forceRefresh: true\n        }\n      },\n      {\n        path: '/annotation/:projectid',\n        name: 'Annotation',\n        component: Annotation,\n        meta: {\n            requiresAuth: true,\n            forceRefresh: false\n        }\n      },\n    ],\n  });\n\n  router.beforeEach((to , from, next) => {\n    console.log('checking route')\n    if (to.matched.some(route => route.meta.forceRefresh)) {\n        localStorage.setItem('forceRefresh', 'refresh')\n    }\n\n    if (to.matched.some(route => route.meta.requiresAuth)) {\n        if (localStorage.getItem('jwt') == null || localStorage.getItem('jwt') == 'undefined' || localStorage.getItem('jwt') == ''){\n            next({\n                name:'Login',\n\t\tparams: { nextUrl: to.fullPath}\n\t    })\n\t} else{\n            next()\n\t}\n    } else{\n        console.log('rejected going to login');\n\tnext()\n    }\n})\n\nexport default router;\n"]}]}
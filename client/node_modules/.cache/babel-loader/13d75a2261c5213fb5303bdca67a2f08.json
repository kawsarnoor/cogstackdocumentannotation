{"remainingRequest":"/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/node_modules/babel-loader/lib/index.js!/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/src/components/Document.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/src/components/Document.vue","mtime":1590117611980},{"path":"/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/projects/allergies/annotationTool/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcmFuZ3kgZnJvbSAncmFuZ3knOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwovKmVzbGludC1kaXNhYmxlKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRG9jdW1lbnQnLAogIHByb3BzOiB7CiAgICBtc2c6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhYmVsczogW10sCiAgICAgIHNwYW5zOiB7fSwKICAgICAgc3BhbnZhbHVlczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRuZXh0ZG9jdW1lbnQ6IGZ1bmN0aW9uIGdldG5leHRkb2N1bWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9nZXRuZXh0ZG9jdW1lbnQnOwogICAgICBheGlvcy5nZXQocGF0aCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubGFiZWxzKTsKICAgICAgICBfdGhpcy5sYWJlbHMgPSByZXMuZGF0YS5sYWJlbHM7CiAgICAgICAgX3RoaXMuc3BhbnMgPSByZXMuZGF0YS5zcGFuczsKICAgICAgICBfdGhpcy5zcGFudmFsdWVzID0gcmVzLmRhdGEuc3Bhbl92YWx1ZXM7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBsaW5rVGV4dHRvTGFiZWw6IGZ1bmN0aW9uIGxpbmtUZXh0dG9MYWJlbChsYWJlbCwgY2F0ZWdvcnksIGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHNlbCA9IHJhbmd5LmdldFNlbGVjdGlvbigpOwogICAgICB2YXIgaWRzID0gW107CgogICAgICBmb3IgKHZhciByID0gMCwgcmFuZ2UsIHNwYW5zOyByIDwgc2VsLnJhbmdlQ291bnQ7ICsrcikgewogICAgICAgIHJhbmdlID0gc2VsLmdldFJhbmdlQXQocik7CgogICAgICAgIGlmIChyYW5nZS5zdGFydENvbnRhaW5lciA9PSByYW5nZS5lbmRDb250YWluZXIgJiYgcmFuZ2Uuc3RhcnRDb250YWluZXIubm9kZVR5cGUgPT0gMykgewogICAgICAgICAgcmFuZ2UgPSByYW5nZS5jbG9uZVJhbmdlKCk7CiAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKHJhbmdlLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUpOwogICAgICAgIH0KCiAgICAgICAgc3BhbnMgPSByYW5nZS5nZXROb2RlcyhbMV0sIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09ICJzcGFuIjsKICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNwYW5zLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7CiAgICAgICAgICBpZHMucHVzaChzcGFuc1tpXS5pZCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnNwYW5zW2NhdGVnb3J5XVtsYWJlbF0gPSB0aGlzLnNwYW5zW2NhdGVnb3J5XVtsYWJlbF0uY29uY2F0KGlkcyk7CiAgICAgIHZhciBwYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC91cGRhdGVTcGFucyc7CiAgICAgIHZhciBuZXdzcGFucyA9IHRoaXMuc3BhbnNbY2F0ZWdvcnldW2xhYmVsXTsKICAgICAgYXhpb3MucG9zdChwYXRoLCB7CiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LAogICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICBuZXdzcGFuczogbmV3c3BhbnMsCiAgICAgICAgaWQ6IGlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5nZXRuZXh0ZG9jdW1lbnQoKTsKCiAgICAgICAgX3RoaXMyLnNob3dTcGFucyhsYWJlbCwgY2F0ZWdvcnksIGlkKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VWYWx1ZShsYWJlbCwgY2F0ZWdvcnksIGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2cobGFiZWwpOwogICAgICB2YXIgcGF0aCA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvY2hhbmdlbGFiZWwnOwogICAgICBheGlvcy5wb3N0KHBhdGgsIHsKICAgICAgICBsYWJlbDogbGFiZWwsCiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LAogICAgICAgIGlkOiBpZAogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuZ2V0bmV4dGRvY3VtZW50KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93U3BhbnM6IGZ1bmN0aW9uIHNob3dTcGFucyhsYWJlbCwgY2F0ZWdvcnksIGlkKSB7CiAgICAgIHZhciB0YXJnZXRsYWJlbCA9IHRoaXMuc3BhbnNbY2F0ZWdvcnldW2xhYmVsXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHRhcmdldGxhYmVsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgJCgnIycgKyB0YXJnZXRsYWJlbFtpXSkuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgIndoaXRlIik7CgogICAgICAgIGlmICgkKCcjJyArIHRhcmdldGxhYmVsW2ldKS5jc3MoJ2JhY2tncm91bmQtY29sb3InKSAhPSAiI2NjYyIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlbHNldHRlZScpOwogICAgICAgICAgJCgnIycgKyB0YXJnZXRsYWJlbFtpXSkuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgIiNjY2MiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRsYWJlbDogZnVuY3Rpb24gYWRkbGFiZWwoaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgbmV3bGFiZWwgPSAkKCcjJyArIGlkKS52YWwoKTsKICAgICAgdmFyIGNhdGVnb3J5ID0gaWQuc3BsaXQoIi0iKVswXTsKICAgICAgdmFyIHBhdGggPSAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FkZGxhYmVsJzsKICAgICAgYXhpb3MucG9zdChwYXRoLCB7CiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LAogICAgICAgIG5ld2xhYmVsOiBuZXdsYWJlbAogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuZ2V0bmV4dGRvY3VtZW50KCk7CgogICAgICAgICQoJyMnICsgaWQpLnZhbCgnJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldG5leHRkb2N1bWVudCgpOwogIH0KfTs="},{"version":3,"sources":["Document.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<!-- eslint-disable max-len -->\n  <div class=\"document\">\n    <div class=\"card text-center\">\n      <div class=\"card-header\">\n        Document {{ labels.id }}\n      </div>\n      <div class=\"card-body overflowAuto\">\n        <h5 class=\"card-title\">What Happened</h5>\n        <p class=\"card-text\">\n          <span v-for=\"(word, index) in labels.whathappened\" :key=\"index\" :id=\"'sp_' + index\"> {{word}} </span>\n        </p>\n        <h5 class=\"card-title\">Actions Preventing Reoccurence</h5>\n        <p class=\"card-text\">{{labels.actionspreventing}}</p>\n      </div>\n    </div>\n    <div>\n      <div class=\"category\">\n        <h5>Themes</h5>\n        <div class=\"row\">\n          <div class=\"col-10\">\n            <div class=\"btn-group\" role=\"group\" v-for=\"(value, label) in labels.themes\" :key=\"label\">\n                  <button v-if=\"value == false\" class=\"btn btn-secondary\" type=\"button\" @click=\"changeValue(label, 'themes', labels.id)\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-primary\" type=\"button\" @click=\"showSpans(label, 'themes', labels.id)\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"changeValue(label, 'themes', labels.id)\">&#10008;</button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"linkTexttoLabel(label, 'themes', labels.id)\">&#10078;</button>\n            </div>\n          </div>\n          <div class=\"col-2\">\n            <form class=\"form-inline\">\n              <input type=\"text\" id=\"themes-new\" class=\"form-control search\" placeholder=\"new label\" @keyup.enter=\"addlabel('themes-new')\">\n            </form>\n          </div>\n        </div>\n      </div>\n      <div class=\"category\">\n        <h5>Outcome or Barrier</h5>\n        <div class=\"row\">\n          <div class=\"col-10\">\n            <div class=\"btn-group\" role=\"group\" v-for=\"(value, label) in labels.outcomes\" :key=\"label\">\n                  <button v-if=\"value == false\" class=\"btn btn-secondary\" type=\"button\" @click=\"changeValue(label, 'outcomes', labels.id)\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-primary\" type=\"button\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"changeValue(label, 'outcomes', labels.id)\">&#10008;</button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"linkTexttoLabel(label, 'outcomes', labels.id)\">&#10078;</button>\n            </div>\n          </div>\n          <div class=\"col-2\">\n            <form class=\"form-inline\">\n              <input type=\"text\" id=\"outcomes-new\" class=\"form-control search\" placeholder=\"new label\" @keyup.enter=\"addlabel('outcomes-new')\">\n            </form>\n          </div>\n        </div>\n      </div>\n      <div class=\"category\">\n        <h5>Stage of Care</h5>\n          <div class=\"row\">\n            <div class=\"col-10\">\n              <div class=\"btn-group\" role=\"group\" v-for=\"(value, label) in labels.stageofcare\" :key=\"label\">\n                  <button v-if=\"value == false\" class=\"btn btn-secondary\" type=\"button\" @click=\"changeValue(label, 'stageofcare', labels.id)\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-primary\" type=\"button\" @click=\"linkTexttoLabel(labels.id, stageofcare, label)\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"changeValue(label, 'stageofcare', labels.id)\">&#10008;</button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"linkTexttoLabel(label, 'stageofcare', labels.id)\">&#10078;</button>\n              </div>\n            </div>\n            <div class=\"col-2\">\n            <form class=\"form-inline\">\n              <input type=\"text\" id=\"stageofcare-new\" class=\"form-control search\" placeholder=\"new label\" @keyup.enter=\"addlabel('stageofcare-new')\">\n            </form>\n            </div>\n          </div>\n      </div>\n      <div class=\"category\">\n        <h5>Error</h5>\n          <div class=\"row\">\n            <div class=\"col-10\">\n              <div class=\"btn-group\" role=\"group\" v-for=\"(value, label) in labels.error\" :key=\"label\">\n                  <button v-if=\"value == false\" class=\"btn btn-secondary\" type=\"button\" @click=\"changeValue(label, 'error', labels.id)\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-primary\" type=\"button\" @click=\"linkTexttoLabel()\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"changeValue(label, 'error', labels.id)\">&#10008;</button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"linkTexttoLabel(label, 'error', labels.id)\">&#10078;</button>\n              </div>\n            </div>\n            <div class=\"col-2\">\n            <form class=\"form-inline\">\n              <input type=\"text\" id=\"error-new\" class=\"form-control search\" placeholder=\"new label\" @keyup.enter=\"addlabel('error-new')\">\n            </form>\n            </div>\n          </div>\n      </div>\n      <div class=\"category\">\n        <h5>Known Allergy</h5>\n        <div class=\"row\">\n          <div class=\"col-10\">\n            <div class=\"btn-group\" role=\"group\" v-for=\"(value, label) in labels.knownallergy\" :key=\"label\">\n                  <button v-if=\"value == false\" class=\"btn btn-secondary\" type=\"button\" @click=\"changeValue(label, 'knownallergy', labels.id)\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-primary\" type=\"button\" @click=\"linkTexttoLabel()\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"changeValue(label, 'knownallergy', labels.id)\">&#10008;</button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"linkTexttoLabel(label, 'knownallergy', labels.id)\">&#10078;</button>\n            </div>\n          </div>\n          <div class=\"col-2\">\n            <form class=\"form-inline\">\n              <input type=\"text\" id=\"knownallergy-new\" class=\"form-control search\" placeholder=\"new label\" @keyup.enter=\"addlabel('knownallergy-new')\">\n            </form>\n          </div>\n        </div>\n      </div>\n      <div class=\"category\">\n        <h5>Certainty / Severity of Allergy</h5>\n        <div class=\"row\">\n          <div class=\"col-10\">\n            <div class=\"btn-group\" role=\"group\" v-for=\"(value, label) in labels.certaintyallergy\" :key=\"label\">\n                  <button v-if=\"value == false\" class=\"btn btn-secondary\" type=\"button\" @click=\"changeValue(label, 'certaintyallergy', labels.id)\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-primary\" type=\"button\" @click=\"linkTexttoLabel()\">{{label}} </button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"changeValue(label, 'certaintyallergy', labels.id)\">&#10008;</button>\n                  <button v-if=\"value == true\" class=\"btn btn-warning\" type=\"button\" @click=\"linkTexttoLabel(label, 'certaintyallergy', labels.id)\">&#10078;</button>\n            </div>\n          </div>\n          <div class=\"col-2\">\n            <form class=\"form-inline\">\n              <input type=\"text\" id=\"certaintyallergy-new\" class=\"form-control search\" placeholder=\"new label\" @keyup.enter=\"addlabel('certaintyallergy-new')\">\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport rangy from 'rangy';\nimport $ from 'jquery';\n\n/*eslint-disable*/\nexport default {\n  name: 'Document',\n  props: {\n    msg: String,\n  },\n  data() {\n    return {\n      labels: [],\n      spans: {},\n      spanvalues: [],\n    };\n  },\n  methods: {\n    getnextdocument() {\n      const path = 'http://localhost:5000/getnextdocument';\n      axios.get(path)\n        .then((res) => {\n          console.log(res.data.labels);\n          this.labels = res.data.labels;\n          this.spans = res.data.spans;\n          this.spanvalues = res.data.span_values;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    linkTexttoLabel(label, category, id) {\n      const sel = rangy.getSelection();\n      const ids = [];\n      for (let r = 0, range, spans; r < sel.rangeCount; ++r) {\n          range = sel.getRangeAt(r);\n          if (range.startContainer == range.endContainer && range.startContainer.nodeType == 3) {\n              range = range.cloneRange();\n              range.selectNode(range.startContainer.parentNode);\n          }\n          spans = range.getNodes([1], function(node) {\n              return node.nodeName.toLowerCase() == \"span\";\n          });\n          for (let i = 0, len = spans.length; i < len; ++i) {\n              ids.push(spans[i].id);\n          }\n      }\n\n      this.spans[category][label] = this.spans[category][label].concat(ids);\n      const path = 'http://localhost:5000/updateSpans';\n      let newspans = this.spans[category][label];\n      \n      axios.post(path, {category, label, newspans, id })\n        .then(() => {\n          this.getnextdocument();\n          this.showSpans(label, category, id);\n        })\n        .catch((error) => {\n          console.error(error);\n      });\n\n    },\n    changeValue(label, category, id) {\n      console.log(label);\n      const path = 'http://localhost:5000/changelabel';\n      axios.post(path, { label, category, id })\n        .then(() => {\n          this.getnextdocument();\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    showSpans(label, category, id) {\n      let targetlabel = this.spans[category][label]\n\n      for (var i=0; i <= targetlabel.length; i++){\n        $('#' + targetlabel[i]).css('background-color',\"white\");\n        if ($('#' + targetlabel[i]).css('background-color') != \"#ccc\"){\n          console.log('elsettee')\n          $('#' + targetlabel[i]).css('background-color',\"#ccc\");\n        }\n      } \n    },\n    addlabel: function(id) {\n      var newlabel = $('#'+ id).val();\n      var category = id.split(\"-\")[0];\n      const path = 'http://localhost:5000/addlabel';\n\n      axios.post(path, {category, newlabel})\n        .then(() => {\n          this.getnextdocument();\n          $('#'+ id).val('');\n        })\n        .catch((error) => {\n          console.error(error);\n        });      \n     },\n  },\n  created() {\n    this.getnextdocument();\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\ninput {\n  margin: 3px;\n}\nh3 {\n  margin: 0px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n.category {\n  text-align: left;\n  margin-top: 15px;\n}\n.overflowAuto {\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: calc(100vh - 600px);\n}\n.document {\n  margin: 15px;\n}\n.btn-group {\n  margin: 5px;\n}\ndiv.boxwrap div {\n  float: left;\n}\ndiv.boxwrap div:hover {\n  background-color: aqua;\n  cursor: pointer;\n}\ndiv.boxwrap div h5 {\n  text-align: center;\n}\n</style>\n"],"sourceRoot":"src/components"}]}